<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        // JS 객체 기반의 스크립트 언어
        // 클래스: 붕어빵 틀 (메모리 올라가지 않음) vs 프로토타입
        // 객체: 팥 붕어빵, 크림 붕어빵, 피자 붕어빵 (메모리 올라감)

        // 객체 생성 방법
        // let 객체 변수명 = {속성(key):값(value), 속성(key):값(value) ,....};

        // 객체 내부 속성 (property) 접근
        // 1) 마침표 (객체명.속성이름)
        // 2) 대괄호 (객체명["속성이름"]) ("" 필요!!)

        
        // 객체 생성
        let obj = {name:"smith", age:40, company:"naver"};

        // 객체 속성 접근
        console.log(obj.name);
        console.log(obj["age"]);
        console.log(obj["company"]);

        let car = {
            model: "grandeur",
            price: 2500,
            company: {
                name: "hyundai",
                logo: "H"
            },
            // 객체 속성값으로 객체 정의
            tires: ["fl", "fr", "bl", "br"], 
            // 객체 속성값으로 배열 ([] 정의)
            
            // 함수 정의
            drive: function(){
                console.log('Drive!');
            }
        };

        // Q1. car model 출력
        console.log(car.model);

        // Q2. car company 출력
        console.log(car["company"]); // Object형 출력
        console.log(car["company"].name);
        console.log(car.company.logo);

        // Q3. car tires 출력
        console.log(car.tires);
        for(let i = 0; i < car.tires.length; i ++){
            console.log(car.tires[i]);
        }
        car.tires.forEach((value)=>console.log(value));
        // car.tires 배열 객체 함수
        
        // i: index
        for(let i in car.tires){
            console.log(car.tires[i]);
        }

        // ele: element
        for(let ele of car.tires){
            console.log(ele);
        }

        // Q4. car drive()
        car.drive();

        // 객체 중에서 속성 자체가 삭제되는 게 아니라
        // car.price 참조 링크를 삭제
        
        // 아무런 값도 참조하고 있지 않은 데이터가 
        // 메모리에 살아있으면 gc 수거해감! 
        delete car.price;
        console.log(car.price); // undefined
        
        car.price = null;
        console.log(car.price); // null

        car.price = undefined;
        console.log(car.price); // undefined

        // 객체 자체를 삭제를 하고 싶으면 ..?
        // delete 불가
        car = null;
        car = undefined;

        // 객체 생성
        let book = {
            title: "Harry Potter",
            price: 20000,
            stock: 10
        };

        // 객체 속성값 변경
        book.price = 15000;

        // 새로운 속성 추가
        book.author = "J. K. Rowling";

        // 객체 삭제
        book.price = null;

        console.clear();

        // book 객체 속성 확인 (순회)
        for(let b in book){
            console.log(book[b]); // 대괄호 표기법만 가능!
            // console.log(book.b); // 마침표 표기법 지원 X
        }


        // 생성자를 통해 객체 생성
        // 생성자 함수 (함수 이름 첫 글자 대문자 만듦!)
        function Book(title, price, stock){
            this.title = title;
            this.price = price;
            this.stock = stock;
        }

        let book1 = new Book("Harry Potter1", 23000, 10);
        let book2 = new Book("Harry Potter2", 23000, 15);
        let book3 = new Book("Harry Potter3", 23000, 21);

        // Q1. book1, book2, book3 객체 속성 확인하는 반복문 작성
        for(let i in book1){
			console.log(book1[i]);
		}
		for(let i in book2){
			console.log(book2[i]);
		}
		for(let i in book3){
			console.log(book3[i]);
		}

        // Q2. book1, book2, book3에 author 속성 추가하고 값도 대입
        book1.author = "J. K. Rowling";
        book2.author = "J. K. Rowling";
        book3.author = "J. K. Rowling";


        // 생성자 함수 (Triangle)
        function Triangle(w, h){
            if(w == 0 || h == 0){
                alert("Triangle 생성 불가!");
                return; // 비정상적인 종료
            }
            this.width = Math.abs(w);
            this.height = Math.abs(h);

            // 배열 리턴 -- 1
            // return [this.width, this.height];

            // 객체 리턴 -- 2
            return {
                width: this.width,
                height: this.height
            }
        }
        console.clear();

        // 1. 생성자 함수를 통해 객체를 하나 생성을 해보고 속성값 출력
        // let tri1 = Triangle(100, 200);
        // console.log(tri1[0]); // width
        // console.log(tri1[1]); // height


        // 2. 생성자 함수를 통해 객체를 하나 생성을 해보고 속성값 출력
        let tri2 = Triangle(100, 200);
        console.log(tri2.width);
        console.log(tri2.height);

    </script>
</body>
</html>